
<mxfile host="app.diagrams.net" modified="2026-01-12T16:40:00.000Z" agent="Mozilla/5.0" version="20.6.3" editor="draw.io">
  <diagram id="arch-aws" name="Core Banking Vision (AWS Icons)">
    <mxGraphModel dx="1680" dy="980" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0"/><mxCell id="1" parent="0"/>

        <mxCell id="title" value="Carrefour Core Banking Architecture — AWS Icons" style="text;whiteSpace=wrap;html=1;fontSize=22;fontStyle=1;align=center" vertex="1" parent="1">
          <mxGeometry x="60" y="20" width="1100" height="30" as="geometry"/>
        </mxCell>

        <!-- Canais & BFF -->
        <mxCell id="edgeLayer" value="Canais &amp; BFF" style="swimlane;rounded=1;html=1;horizontal=1;childLayout=stackLayout;startSize=28;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="380" height="200" as="geometry"/>
        </mxCell>
        <mxCell id="web" value="Web" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="edgeLayer"><mxGeometry x="20" y="44" width="150" height="44" as="geometry"/></mxCell>
        <mxCell id="mobile" value="Mobile" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="edgeLayer"><mxGeometry x="190" y="44" width="150" height="44" as="geometry"/></mxCell>
        <mxCell id="bff" value="BFF (Accounts / Payments / Engagement)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff" vertex="1" parent="edgeLayer"><mxGeometry x="20" y="110" width="320" height="48" as="geometry"/></mxCell>

        <!-- Domínios Core -->
        <mxCell id="coreLayer" value="Domínios Core" style="swimlane;rounded=1;html=1;horizontal=1;startSize=28;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1"><mxGeometry x="450" y="80" width="820" height="380" as="geometry"/></mxCell>
        <mxCell id="accounts" value="Accounts" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="20" y="44" width="170" height="48" as="geometry"/></mxCell>
        <mxCell id="ledger" value="Ledger" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="210" y="44" width="170" height="48" as="geometry"/></mxCell>
        <mxCell id="payments" value="Payments" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="400" y="44" width="170" height="48" as="geometry"/></mxCell>
        <mxCell id="networks" value="Networks (PIX / Cartao / Boleto)" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="590" y="44" width="210" height="48" as="geometry"/></mxCell>
        <mxCell id="engagement" value="Engagement (Cashback)" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="20" y="110" width="220" height="48" as="geometry"/></mxCell>
        <mxCell id="partners" value="Partners" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="260" y="110" width="170" height="48" as="geometry"/></mxCell>
        <mxCell id="identity" value="Identity / KYC" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="440" y="110" width="170" height="48" as="geometry"/></mxCell>
        <mxCell id="compliance" value="Compliance / Audit" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="620" y="110" width="170" height="48" as="geometry"/></mxCell>
        <mxCell id="ops" value="Ops / Reconciliation" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="20" y="176" width="280" height="48" as="geometry"/></mxCell>
        <mxCell id="data" value="Data / Analytics" style="rounded=1;whiteSpace=wrap;html=1" vertex="1" parent="coreLayer"><mxGeometry x="320" y="176" width="280" height="48" as="geometry"/></mxCell>
        <mxCell id="coreNote" value="Eventos: TransactionCommitted · PaymentSettled · CashbackAccrued · CashbackRedeemed" style="text;whiteSpace=wrap;html=1;fontSize=11;align=left;fontColor=#4A4A4A" vertex="1" parent="coreLayer"><mxGeometry x="20" y="242" width="760" height="30" as="geometry"/></mxCell>

        <!-- Infra / Plataforma (AWS v4 icons) -->
        <mxCell id="infraLayer" value="Infra / Plataforma (AWS)" style="swimlane;rounded=1;html=1;horizontal=1;startSize=28;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1" vertex="1" parent="1"><mxGeometry x="40" y="320" width="380" height="340" as="geometry"/></mxCell>

        <!-- API Gateway -->
        <mxCell id="apigw" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=bottom;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=12;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.api_gateway;" vertex="1" parent="infraLayer"><mxGeometry x="20" y="44" width="70" height="70" as="geometry"/></mxCell>
        <mxCell id="apigwLabel" value="API Gateway" style="text;whiteSpace=wrap;html=1;align=center" vertex="1" parent="infraLayer"><mxGeometry x="15" y="120" width="80" height="20" as="geometry"/></mxCell>

        <!-- EventBridge -->
        <mxCell id="eventbus" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=bottom;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=12;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.eventbridge;" vertex="1" parent="infraLayer"><mxGeometry x="110" y="44" width="70" height="70" as="geometry"/></mxCell>
        <mxCell id="eventbusLabel" value="EventBridge" style="text;whiteSpace=wrap;html=1;align=center" vertex="1" parent="infraLayer"><mxGeometry x="100" y="120" width="90" height="20" as="geometry"/></mxCell>

        <!-- IAM -->
        <mxCell id="iam" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=bottom;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=12;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.iam;" vertex="1" parent="infraLayer"><mxGeometry x="200" y="44" width="70" height="70" as="geometry"/></mxCell>
        <mxCell id="iamLabel" value="IAM (OAuth2/OIDC)" style="text;whiteSpace=wrap;html=1;align=center" vertex="1" parent="infraLayer"><mxGeometry x="180" y="120" width="110" height="20" as="geometry"/></mxCell>

        <!-- CloudWatch -->
        <mxCell id="cloudwatch" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=bottom;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=12;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.cloudwatch;" vertex="1" parent="infraLayer"><mxGeometry x="290" y="44" width="70" height="70" as="geometry"/></mxCell>
        <mxCell id="cloudwatchLabel" value="CloudWatch (Observability)" style="text;whiteSpace=wrap;html=1;align=center" vertex="1" parent="infraLayer"><mxGeometry x="250" y="120" width="150" height="20" as="geometry"/></mxCell>

        <!-- EKS -->
        <mxCell id="eks" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=bottom;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=12;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.eks;" vertex="1" parent="infraLayer"><mxGeometry x="75" y="170" width="80" height="80" as="geometry"/></mxCell>
        <mxCell id="eksLabel" value="Amazon EKS" style="text;whiteSpace=wrap;html=1;align=center" vertex="1" parent="infraLayer"><mxGeometry x="70" y="255" width="90" height="20" as="geometry"/></mxCell>

        <!-- RDS -->
        <mxCell id="rds" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=bottom;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=12;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.rds;" vertex="1" parent="infraLayer"><mxGeometry x="225" y="170" width="80" height="80" as="geometry"/></mxCell>
        <mxCell id="rdsLabel" value="Amazon RDS (Postgres)" style="text;whiteSpace=wrap;html=1;align=center" vertex="1" parent="infraLayer"><mxGeometry x="200" y="255" width="130" height="20" as="geometry"/></mxCell>

        <!-- Legenda -->
        <mxCell id="legend" value="Legenda" style="swimlane;rounded=1;html=1;startSize=28;fillColor=#f5f5f5;strokeColor=#b3b3b3;fontStyle=1" vertex="1" parent="1"><mxGeometry x="1290" y="80" width="320" height="240" as="geometry"/></mxCell>
        <mxCell id="lg1" value="Canais &amp; BFF (azul)" style="text;whiteSpace=wrap;html=1;align=left" vertex="1" parent="legend"><mxGeometry x="16" y="38" width="280" height="22" as="geometry"/></mxCell>
        <mxCell id="lg2" value="Domínios Core (verde)" style="text;whiteSpace=wrap;html=1;align=left" vertex="1" parent="legend"><mxGeometry x="16" y="64" width="280" height="22" as="geometry"/></mxCell>
        <mxCell id="lg3" value="Infra / Plataforma AWS (amarelo)" style="text;whiteSpace=wrap;html=1;align=left" vertex="1" parent="legend"><mxGeometry x="16" y="90" width="280" height="22" as="geometry"/></mxCell>
        <mxCell id="lg4" value="Fluxos: BFF→Gateway→Core · Payments→Networks/ Ledger · Ledger→Ops/Compliance · Bus→Engagement" style="text;whiteSpace=wrap;html=1;align=left;fontSize=10" vertex="1" parent="legend"><mxGeometry x="16" y="120" width="288" height="60" as="geometry"/></mxCell>

        <!-- Conexões -->
        <mxCell id="edge-bff-apigw" style="endArrow=classic;html=1;strokeColor=#6c8ebf" edge="1" parent="1" source="bff" target="apigw"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="apigw-to-accounts" style="endArrow=classic;html=1;strokeColor=#6c8ebf" edge="1" parent="1" source="apigw" target="accounts"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="apigw-to-payments" style="endArrow=classic;html=1;strokeColor=#6c8ebf" edge="1" parent="1" source="apigw" target="payments"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="payments-to-networks" style="endArrow=classic;html=1;strokeColor=#82b366" edge="1" parent="1" source="payments" target="networks"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="payments-to-ledger" style="endArrow=classic;html=1;strokeColor=#82b366" edge="1" parent="1" source="payments" target="ledger"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="ledger-to-ops" style="endArrow=classic;html=1;strokeColor=#82b366" edge="1" parent="1" source="ledger" target="ops"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="ledger-to-compliance" style="endArrow=classic;html=1;strokeColor=#82b366" edge="1" parent="1" source="ledger" target="compliance"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="bus-to-engagement" style="endArrow=classic;html=1;strokeColor=#d6b656" edge="1" parent="1" source="eventbus" target="engagement"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="eks-to-core" style="endArrow=classic;html=1;dashed=1;strokeColor=#333333" edge="1" parent="1" source="eks"><mxGeometry relative="1" as="geometry"><mxPoint x="520" y="80" as="targetPoint"/></mxGeometry></mxCell>
        <mxCell id="rds-to-ledger" style="endArrow=classic;html=1;dashed=1;strokeColor=#333333" edge="1" parent="1" source="rds" target="ledger"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="iam-to-apigw" style="endArrow=classic;html=1;dashed=1;strokeColor=#333333" edge="1" parent="1" source="iam" target="apigw"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="cloudwatch-to-core" style="endArrow=classic;html=1;dashed=1;strokeColor=#333333" edge="1" parent="1" source="cloudwatch" target="data"><mxGeometry relative="1" as="geometry"/></mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
